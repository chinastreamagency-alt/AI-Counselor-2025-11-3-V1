# 🚀 分销商（营销联盟）系统完整指南

## 📍 分销商访问链接

### 🌐 前台访问地址（给推广人员使用）

**1. 注册页面（首次注册）**
```
https://your-domain.vercel.app/promote
或
https://your-domain.vercel.app/affiliate/register
```

**2. 登录页面**
```
https://your-domain.vercel.app/affiliate/login
```

**3. 分销商仪表板**
```
https://your-domain.vercel.app/affiliate
```

---

## 🔑 测试账号信息

### 账号 1 - 网红代理
- **邮箱：** `influencer@test.com`
- **姓名：** Test Influencer
- **推荐码：** `INFLUENCER2025`
- **佣金比例：** 10%
- **状态：** 激活

### 账号 2 - 营销推广员
- **邮箱：** `marketer@test.com`
- **姓名：** Test Marketer
- **推荐码：** `MARKETER2025`
- **佣金比例：** 10%
- **状态：** 激活

---

## 🛠️ 创建测试账号步骤

1. **打开 Supabase Dashboard**
   - 访问：https://supabase.com/dashboard
   - 选择你的项目

2. **打开 SQL 编辑器**
   - 点击左侧 "SQL Editor"
   - 点击 "New Query"

3. **执行创建脚本**
   - 复制 `scripts/create-test-affiliates.sql` 中的内容
   - 粘贴到 SQL 编辑器
   - 点击 "Run"

4. **验证创建成功**
   - 查询结果应显示两个账号信息

---

## 🎯 后台管理功能（管理员专用）

### 访问后台管理
```
https://your-domain.vercel.app/ad7m2in9
```

### 分销商管理页面
```
https://your-domain.vercel.app/ad7m2in9/affiliates
```

### 后台功能清单

✅ **查看所有分销商**
- 分销商列表
- 推荐码
- 佣金比例
- 总收入/未结算金额
- 订单数量
- 状态（激活/暂停/未激活）

✅ **编辑分销商**
- 修改佣金比例
- 修改状态（激活/暂停/未激活）

✅ **查看佣金明细**
- 点击"查看"按钮查看每个分销商的佣金记录
- 查看订单详情
- 佣金状态（已结算/待结算）

✅ **结算佣金**
- 选择待结算的佣金
- 批量结算
- 记录结算时间

---

## 🔄 分销商工作流程

### 1️⃣ 注册流程
1. 推广人员访问注册页面
2. 填写邮箱和姓名（姓名选填）
3. 提交注册
4. 系统自动生成：
   - 唯一推荐码
   - 专属推广链接
   - 默认佣金比例（10%）

### 2️⃣ 登录流程
1. 使用邮箱登录（无需密码）
2. 系统验证邮箱是否存在
3. 自动跳转到仪表板

### 3️⃣ 推广流程
1. 获取推广链接或推荐码
2. 分享给潜在客户
3. 客户通过链接注册/购买
4. 系统自动记录订单和佣金

### 4️⃣ 查看收益
- 实时查看总收入
- 已结算金额
- 未结算金额
- 订单列表
- 佣金明细

---

## 📊 分销商仪表板功能

### 统计卡片
- 💰 **总佣金收入**
- ✅ **已结算金额**
- ⏳ **待结算金额**
- 🛒 **推广订单数**

### 推广工具
- 📋 **推荐码** - 一键复制
- 🔗 **推广链接** - 一键复制
- 📈 **佣金比例显示**

### 数据表格
- **订单记录** - 查看所有通过推荐产生的订单
- **佣金明细** - 查看每笔佣金的状态和金额

---

## 🧪 测试步骤

### 1. 测试分销商登录
1. 访问：`https://your-domain.vercel.app/affiliate/login`
2. 输入测试邮箱：`influencer@test.com`
3. 点击登录
4. 查看分销商仪表板

### 2. 测试后台管理
1. 访问：`https://your-domain.vercel.app/ad7m2in9`
2. 使用管理员账号登录
3. 点击左侧"分销商管理"或访问 `/ad7m2in9/affiliates`
4. 查看测试账号是否显示
5. 测试编辑功能

### 3. 测试推荐链接
1. 复制分销商的推广链接
2. 在浏览器中访问该链接
3. 查看 URL 中是否包含推荐码参数
4. 进行测试购买（如果需要）

---

## ⚙️ 管理员操作指南

### 修改佣金比例
1. 进入分销商管理页面
2. 找到要修改的分销商
3. 点击"编辑"按钮
4. 输入新的佣金比例
5. 点击"更新分销商"

### 暂停/激活分销商
1. 进入分销商管理页面
2. 找到要操作的分销商
3. 点击"编辑"按钮
4. 修改状态为：
   - **激活** - 正常运营
   - **暂停** - 临时停用
   - **未激活** - 永久停用
5. 点击"更新分销商"

### 结算佣金
1. 点击分销商的"查看"按钮
2. 查看该分销商的佣金明细
3. 勾选待结算的佣金项
4. 点击"结算选中项"
5. 确认结算

---

## 📝 注意事项

1. **分销商登录方式**
   - 只需要邮箱，无需密码
   - 基于邮箱验证身份

2. **推荐码规则**
   - 系统自动生成唯一推荐码
   - 格式：大写字母+数字组合
   - 不可重复

3. **佣金计算**
   - 基于订单金额的百分比
   - 默认比例：10%
   - 管理员可自定义每个分销商的比例

4. **结算周期**
   - 管理员手动结算
   - 支持批量结算
   - 记录结算时间

---

## 🔐 安全提示

- ⚠️ 测试账号仅用于演示，请勿用于生产环境
- ⚠️ 正式使用前请修改测试账号或删除
- ⚠️ 定期检查分销商账户状态
- ⚠️ 及时结算佣金以维护信任

---

**创建日期：** 2025-11-09  
**版本：** v1.0  
**系统状态：** ✅ 已部署运行

