# ğŸ” å¿«é€Ÿåˆ›å»ºç®¡ç†å‘˜è´¦å·

## é—®é¢˜è¯´æ˜
å¦‚æœä½ çœ‹åˆ° "Failed to fetch" é”™è¯¯ï¼Œè¯´æ˜æ•°æ®åº“ä¸­è¿˜æ²¡æœ‰ç®¡ç†å‘˜è´¦å·ã€‚

## è§£å†³æ–¹æ¡ˆ

### æ–¹æ³• 1ï¼šä½¿ç”¨ Node.js è„šæœ¬ï¼ˆæ¨èï¼‰

1. **å®‰è£…ä¾èµ–**ï¼ˆå¦‚æœè¿˜æ²¡å®‰è£…ï¼‰
```bash
npm install bcryptjs @supabase/supabase-js dotenv
```

2. **è¿è¡Œåˆ›å»ºè„šæœ¬**
```bash
node scripts/create-admin-user.js
```

3. **æŸ¥çœ‹è¾“å‡º**
è„šæœ¬ä¼šæ˜¾ç¤ºåˆ›å»ºæˆåŠŸçš„ä¿¡æ¯å’Œç™»å½•å‡­æ®ã€‚

---

### æ–¹æ³• 2ï¼šç›´æ¥åœ¨ Supabase SQL ç¼–è¾‘å™¨ä¸­æ‰§è¡Œ

1. **ç™»å½• Supabase Dashboard**
   è®¿é—®ï¼šhttps://supabase.com/dashboard

2. **è¿›å…¥ SQL ç¼–è¾‘å™¨**
   - é€‰æ‹©ä½ çš„é¡¹ç›®
   - ç‚¹å‡»å·¦ä¾§èœå• "SQL Editor"

3. **æ‰§è¡Œä»¥ä¸‹ SQL è¯­å¥**

```sql
-- é¦–å…ˆï¼Œç¡®ä¿ admin_users è¡¨å­˜åœ¨
CREATE TABLE IF NOT EXISTS public.admin_users (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  username TEXT UNIQUE NOT NULL,
  password_hash TEXT NOT NULL,
  email TEXT UNIQUE NOT NULL,
  role TEXT NOT NULL DEFAULT 'admin',
  created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
  updated_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
);

-- æ’å…¥ç®¡ç†å‘˜è´¦å·
-- æ³¨æ„ï¼šä¸‹é¢çš„å¯†ç å“ˆå¸Œå¯¹åº”çš„æ˜æ–‡å¯†ç æ˜¯ï¼šP@ssw0rd!Sec7ure#2025
INSERT INTO public.admin_users (username, email, password_hash, role)
VALUES (
  'admin_secure_2025',
  'admin@ai-counselor.com',
  '$2a$10$YourHashedPasswordHere',  -- è¿™ä¸ªéœ€è¦æ›¿æ¢æˆå®é™…çš„å“ˆå¸Œå€¼
  'admin'
)
ON CONFLICT (username) DO NOTHING;
```

**é‡è¦ï¼š** ä¸Šé¢çš„ SQL ä¸­çš„ password_hash éœ€è¦æ›¿æ¢ã€‚

---

### æ–¹æ³• 3ï¼šä½¿ç”¨åœ¨çº¿ Bcrypt ç”Ÿæˆå™¨

å¦‚æœä½ æƒ³æ‰‹åŠ¨åˆ›å»ºï¼š

1. **è®¿é—®åœ¨çº¿ Bcrypt å·¥å…·**
   - https://bcrypt-generator.com/
   - æˆ– https://www.browserling.com/tools/bcrypt

2. **ç”Ÿæˆå¯†ç å“ˆå¸Œ**
   - è¾“å…¥å¯†ç ï¼š`P@ssw0rd!Sec7ure#2025`
   - Rounds: 10
   - ç‚¹å‡»ç”Ÿæˆ
   - å¤åˆ¶ç”Ÿæˆçš„å“ˆå¸Œå€¼

3. **åœ¨ Supabase SQL ç¼–è¾‘å™¨æ‰§è¡Œ**
```sql
INSERT INTO public.admin_users (username, email, password_hash, role)
VALUES (
  'admin_secure_2025',
  'admin@ai-counselor.com',
  'è¿™é‡Œç²˜è´´ä½ ç”Ÿæˆçš„å“ˆå¸Œå€¼',
  'admin'
);
```

---

## âœ… éªŒè¯åˆ›å»ºæˆåŠŸ

åœ¨ Supabase SQL ç¼–è¾‘å™¨ä¸­è¿è¡Œï¼š

```sql
SELECT id, username, email, role, created_at 
FROM public.admin_users 
WHERE username = 'admin_secure_2025';
```

åº”è¯¥èƒ½çœ‹åˆ°ä¸€æ¡è®°å½•ã€‚

---

## ğŸ”„ å¦‚æœéœ€è¦é‡ç½®å¯†ç 

```sql
-- æ›´æ–°å¯†ç ï¼ˆéœ€è¦å…ˆç”Ÿæˆæ–°çš„å“ˆå¸Œå€¼ï¼‰
UPDATE public.admin_users 
SET password_hash = 'æ–°çš„å“ˆå¸Œå€¼',
    updated_at = NOW()
WHERE username = 'admin_secure_2025';
```

---

## ğŸ“ é‡åˆ°é—®é¢˜ï¼Ÿ

å¦‚æœä»¥ä¸Šæ–¹æ³•éƒ½ä¸è¡Œï¼Œå¯èƒ½çš„åŸå› ï¼š

1. **è¡¨ä¸å­˜åœ¨**ï¼šè¿è¡Œ `scripts/001_create_tables.sql`
2. **æƒé™é—®é¢˜**ï¼šæ£€æŸ¥ Supabase Service Role Key æ˜¯å¦æ­£ç¡®
3. **ç¯å¢ƒå˜é‡**ï¼šç¡®ä¿ Vercel ä¸­é…ç½®äº†æ­£ç¡®çš„ç¯å¢ƒå˜é‡

---

**åˆ›å»ºå®Œæˆåï¼Œåˆ·æ–°ç™»å½•é¡µé¢é‡è¯•ï¼**

