# 💳 Stripe 测试信用卡信息

## ✅ 测试支付成功

使用以下测试卡信息可以成功完成支付：

### 主要测试卡（推荐使用）

```
卡号：    4242 4242 4242 4242
有效期：  12/34  (任何未来日期都可以)
CVC：     123   (任意3位数字)
邮编：    12345 (任意5位数字)
持卡人：  Test User (任意名字)
```

---

## 🧪 其他测试场景

### 测试不同结果

| 卡号 | 结果 | 用途 |
|------|------|------|
| `4242 4242 4242 4242` | ✅ **成功** | 测试正常支付流程 |
| `4000 0000 0000 0002` | ❌ **卡被拒绝** | 测试支付失败 |
| `4000 0000 0000 9995` | ❌ **余额不足** | 测试余额不足 |
| `4000 0000 0000 0069` | ❌ **卡过期** | 测试过期卡 |
| `4000 0000 0000 0127` | ❌ **CVC 错误** | 测试 CVC 验证失败 |
| `4000 0000 0000 0341` | ⚠️ **需要验证** | 测试 3D Secure |

---

## 📝 完整测试步骤

### 步骤 1：访问支付页面

1. 登录您的应用：https://ai-counselor-2025-11-3-v1.vercel.app
2. 使用 Google 登录
3. 点击右上角头像 → "View Account"
4. 点击 **"Recharge"** 按钮

### 步骤 2：选择套餐

选择任意套餐（建议先选最便宜的测试）：
- 💎 1 Hour - $9.99
- 💎 5 Hours - $44.99
- 💎 10 Hours - $84.99
- 💎 100 Hours - $699.99

### 步骤 3：填写测试卡信息

在 Stripe 支付页面填写：

```
卡号：       4242 4242 4242 4242
            (输入时可以有空格，Stripe 会自动格式化)

有效期：     12/34
            (格式：MM/YY，任何未来日期)

CVC：        123
            (任意3位数字)

邮编：       12345
            (任意5位数字)

持卡人姓名： Test User
            (任意名字)

邮箱：       (自动填入您的 Google 邮箱)
```

### 步骤 4：完成支付

1. 点击 **"Pay"** 按钮
2. 等待支付处理（几秒钟）
3. 应该自动跳转到成功页面
4. 显示购买详情：
   - ✅ 购买的套餐名称
   - ✅ 添加的时间（如 1 hour）
   - ✅ 支付金额
5. 点击 **"Start Counseling Session"** 返回主页
6. 查看账户，确认时间已充值

---

## ⚠️ 重要提示

### 关于测试模式

✅ **当前使用的是 Stripe 测试模式**
- 不会产生真实扣款
- 只能使用测试卡号
- 测试数据不会影响真实账户

### 关于真实卡号

❌ **不要使用真实信用卡信息测试！**
- 测试模式下真实卡号无法使用
- 会显示"Invalid card number"错误

### 关于测试环境

🔍 **如何确认是测试模式？**
- Stripe 支付页面顶部会有 "TEST MODE" 标识
- 或者支付页面 URL 包含 `test` 关键字

---

## 🎯 预期结果

成功测试后，您应该看到：

1. ✅ Stripe 支付成功
2. ✅ 返回到成功页面
3. ✅ 显示 "Purchase Successful!"
4. ✅ 显示购买的时间（如 1 hour）
5. ✅ 账户 "Available Consultation Time" 增加
6. ✅ 可以开始使用咨询服务

---

## 🆘 常见问题

### Q: 支付失败，显示"卡被拒绝"
**A:** 确认您使用的是测试卡号 `4242 4242 4242 4242`，不是真实卡号

### Q: 显示"Invalid card number"
**A:** 检查卡号输入是否正确，确保是 16 位数字

### Q: 支付成功但时间没有增加
**A:** 
1. 刷新页面试试
2. 检查 Stripe Webhook 是否配置正确
3. 查看 Vercel 函数日志

### Q: 找不到 Recharge 按钮
**A:** 
1. 确保已经 Google 登录
2. 点击右上角头像
3. 选择 "View Account"
4. 在 "Available Consultation Time" 卡片右上角

---

## 📊 测试记录模板

测试时可以记录：

```
日期: 2025-11-08
套餐: 1 Hour ($9.99)
测试卡: 4242 4242 4242 4242
结果: ✅ 成功
时间充值: ✅ 已增加
备注: 一切正常
```

---

**准备好测试了吗？** 🚀

使用测试卡 `4242 4242 4242 4242` 开始您的第一次测试支付！

